<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Pokemon</title>

    <meta name="description" content="Pokemon in MagicaVoxel and A-Frame"/>
    <meta name="twitter:card" content="Pokemon in MagicaVoxel and A-Frame">
    <meta name="twitter:site" content="@andgokevin">
    <meta name="twitter:title" content="Pokemon">
    <meta name="twitter:description" content="Pokemon in MagicaVoxel and A-Frame">
    <meta name="twitter:creator" content="@andgokevin">
    <meta name="twitter:image" content="https://ngokevin.github.io/aframe-magicavoxel-projects/pokemon/preview.png">
    <meta property="og:title" content="Pokemon in MagicaVoxel and A-Frame"/>
    <meta property="og:image" content="https://ngokevin.github.io/aframe-magicavoxel-projects/pokemon/preview.png"/>

    <script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/b78b47821aab2d89924d9008db2df52a04381c6f/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-particle-system-component@1.0.1/dist/aframe-particle-system-component.min.js"></script>
    <script src="https://npmcdn.com/aframe-look-at-component@1.0.2"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <a-asset-item id="stadium-ply" src="models/stadium.ply"></a-asset-item>
        <a-asset-item id="seating-ply" src="models/seating.ply"></a-asset-item>
        <a-asset-item id="pikachu-ply" src="models/pikachu.ply"></a-asset-item>
        <img id="charizard" src="images/charizard.png">
        <audio id="song" autoplay loop src="audio/pokemon-gym-battle.mp3"></audio>
      </a-assets>

      <script>
        document.getElementById('song').volume = 0.6;
      </script>

      <!-- Model. -->
      <a-entity ply-model="src: #stadium-ply"
                position="0 -11 -27" scale=".8 .8 .8" rotation="-90 0 0"></a-entity>
      <!-- Facing user. -->
      <a-entity ply-model="src: #seating-ply"
                position="0 -8 -110" scale=".8 .8 .8" rotation="-90 90 0"></a-entity>
      <!-- Stage left. -->
      <a-entity ply-model="src: #seating-ply"
                position="-65 -8 -10" scale=".8 .8 .8" rotation="-90 180 0"></a-entity>
      <!-- Stage right. -->
      <a-entity ply-model="src: #seating-ply"
                position="65 -8 -10" scale=".8 .8 .8" rotation="-90 0 0"></a-entity>
      <!-- Pikachu. -->
      <a-entity position="1.4 -0.6 -3">
        <a-entity ply-model="src: #pikachu-ply" scale=".1 .1 .1" rotation="-90 -80 0"></a-entity>
        <a-sphere src="images/lightning.jpg" position="0 0 -0.5" rotation="-90 0 0"
                  color="#FFF" radius="1.8" opacity="0.3" shader="flat"
                  animation="property: opacity; loop: true; to: 0.4; dur: 1000"></a-sphere>
      </a-entity>

      <!-- Particles. -->
      <a-entity particle-system="preset: dust; particleCount: 1000" position="0 2.5 -15"></a-entity>

      <a-image src="#charizard" transparent="true" shader="standard" position="0 7 -40"
               scale="20 20 1" look-at="[camera]"></a-image>

      <!-- Lights. -->
      <a-light type="ambient" color="#777"></a-light>
      <a-entity animation="property: rotation; to: 0 360 0; easing: linear; loop: true;
                           dur: 2000">
        <a-light type="point" color="#FFF" position="-10 10 -15" intensity="0.3"></a-light>
        <a-light type="point" color="#FFF" position="10 10 -15" intensity="0.3"></a-light>
      </a-entity>

      <a-entity position="0 0 4">
        <a-camera user-height="0"></a-camera>
        <a-entity hand-controls="left"></a-entity>
        <a-entity hand-controls="right"></a-entity>
      </a-entity>

      <a-sky color="#111"></a-sky>
    </a-scene>
  </body>
</html>
